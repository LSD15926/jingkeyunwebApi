<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<link rel="icon" type="image/svg+xml" href="./img/favicon.ico" />
		<title>鲸客云</title>
		<script src="js/v2.6.10/vue.js"></script>
		<!-- 引入样式 -->
		<link rel="stylesheet" href="css/elementui.css">
		<!-- 引入组件库 -->
		<script src="js/elementui.js"></script>
	</head>
	<body>
		<div id="app">
			<span> 当前密钥:{{code}} </span>
			<el-button @click="copy" >立即复制</el-button>
		</div>
		
	</body>
	<script type="text/javascript">
		const vm = new Vue({
			el: "#app",
			data: {
				code: '111',
			},
			mounted() {
				var code = "";
				var url = document.location.toString();//获取url地址
				var urlParmStr = url.slice(url.indexOf('?')+1);//获取问号后所有的字符串
				var arr = urlParmStr.split('&');//通过&符号将字符串分割转成数组
				if(arr!=null && arr.length>0 && arr[0].split("=")[0]=='code'){
					code = arr[0].split("=")[1];
				}
				this.code=code;
			},
			methods: {
				copy()
				{
					navigator.clipboard.writeText(this.code);
					this.$message({
						message: '复制成功',
						type: 'success'
					});
				}
			}	
		});

	</script>
</html>